(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[216],{3454:function(e,t,r){"use strict";var n,o;e.exports=(null==(n=r.g.process)?void 0:n.env)&&"object"==typeof(null==(o=r.g.process)?void 0:o.env)?r.g.process:r(7663)},4039:function(e,t,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/florist",function(){return r(4587)}])},4587:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return u}});var n=r(5893),o=r(7294),i=r(7054),s=r(1163),a=r(3454);let l=["places"],c={lat:37.7749,lng:-122.4194};function u(){let e=(0,s.useRouter)(),{isLoaded:t,loadError:r}=(0,i.Db)({googleMapsApiKey:a.env.NEXT_PUBLIC_GOOGLE_MAPS_API_KEY,libraries:l}),[u,d]=(0,o.useState)(c),[f,g]=(0,o.useState)([]),p=(0,o.useRef)(null),[h,m]=(0,o.useState)(null);return((0,o.useEffect)(()=>{navigator.geolocation&&navigator.geolocation.getCurrentPosition(e=>d({lat:e.coords.latitude,lng:e.coords.longitude}),()=>{})},[]),r)?(0,n.jsx)("div",{children:"Error loading maps"}):t?(0,n.jsxs)("div",{style:{width:"100vw",height:"100vh",minHeight:"100vh",minWidth:"100vw",background:"#f9f4ee",boxSizing:"border-box",margin:0,padding:0,overflow:"hidden"},children:[(0,n.jsxs)("nav",{style:{position:"fixed",top:0,left:0,width:"100vw",zIndex:20,display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"center",background:"#f9e3ea",boxShadow:"0 2px 8px rgba(179, 93, 106, 0.08)",padding:"0.7rem 2.5rem",gap:"2.5rem",borderBottom:"2px solid #bdb7a7",borderRadius:0},children:[(0,n.jsx)("a",{onClick:()=>e.push("/"),style:{color:"#b35d6a",fontFamily:"Georgia, serif",fontSize:"1rem",textDecoration:"none",cursor:"pointer",padding:"0.3rem 0.8rem",borderRadius:"18px",transition:"background 0.2s, color 0.2s",fontWeight:500},onMouseOver:e=>e.currentTarget.style.background="#f9f4ee",onMouseOut:e=>e.currentTarget.style.background="transparent",children:"Home"}),(0,n.jsx)("a",{onClick:()=>e.push("/preferences"),style:{color:"#b35d6a",fontFamily:"Georgia, serif",fontSize:"1rem",textDecoration:"none",cursor:"pointer",padding:"0.3rem 0.8rem",borderRadius:"18px",transition:"background 0.2s, color 0.2s",fontWeight:500},onMouseOver:e=>e.currentTarget.style.background="#f9f4ee",onMouseOut:e=>e.currentTarget.style.background="transparent",children:"Find Your Bouquet"}),(0,n.jsx)("a",{onClick:()=>e.push("/gallery"),style:{color:"#b35d6a",fontFamily:"Georgia, serif",fontSize:"1rem",textDecoration:"none",cursor:"pointer",padding:"0.3rem 0.8rem",borderRadius:"18px",transition:"background 0.2s, color 0.2s",fontWeight:500},onMouseOver:e=>e.currentTarget.style.background="#f9f4ee",onMouseOut:e=>e.currentTarget.style.background="transparent",children:"View Gallery"})]}),(0,n.jsxs)("div",{style:{display:"flex",flexDirection:"row",gap:32,padding:24,paddingTop:96,height:"calc(100vh - 96px)",boxSizing:"border-box",maxWidth:1200,margin:"0 auto"},children:[(0,n.jsxs)("div",{style:{flex:1,minWidth:0,display:"flex",flexDirection:"column",alignItems:"stretch"},children:[(0,n.jsx)("h1",{style:{marginTop:0},children:"Florists Near You"}),(0,n.jsx)("div",{style:{flex:1,maxHeight:"70vh"},children:(0,n.jsxs)(i.b6,{mapContainerStyle:{width:"100%",height:"70vh",minHeight:400,borderRadius:18},center:u,zoom:13,onLoad:e=>p.current=e,onIdle:()=>{if(!p.current||!window.google)return;let e=p.current.getBounds();e&&new window.google.maps.places.PlacesService(document.createElement("div")).nearbySearch({bounds:e,keyword:"florist"},(e,t)=>{t===window.google.maps.places.PlacesServiceStatus.OK?g(e):g([])})},children:[(0,n.jsx)(i.Jx,{position:u,label:"You"}),f.map(e=>(0,n.jsx)(i.Jx,{position:{lat:e.geometry.location.lat(),lng:e.geometry.location.lng()},label:e.name,onMouseOver:()=>m(e.place_id),onMouseOut:()=>m(null)},e.place_id))]})})]}),(0,n.jsxs)("div",{style:{flex:1,minWidth:0,overflowY:"auto",background:"#fff",borderRadius:18,boxShadow:"0 2px 12px rgba(0,0,0,0.04)",padding:24,marginTop:32,height:"fit-content",maxHeight:"70vh"},children:[(0,n.jsx)("h2",{style:{fontFamily:"Georgia, serif",color:"#b35d6a",fontWeight:500,fontSize:22,marginTop:0},children:"Nearby Florists"}),(0,n.jsx)("ul",{style:{listStyle:"none",padding:0,margin:0},children:0===f.length?(0,n.jsx)("li",{style:{color:"#bdb7a7",fontFamily:"Georgia, serif",fontSize:16},children:"No florists found nearby."}):f.map(e=>(0,n.jsxs)("li",{style:{marginBottom:20,paddingBottom:16,borderBottom:"1px solid #f0e6dd",background:h===e.place_id?"#f9e3ea":"transparent",borderRadius:h===e.place_id?10:0,transition:"background 0.2s"},children:[(0,n.jsx)("strong",{style:{fontSize:18},children:e.name}),(0,n.jsx)("br",{}),(0,n.jsx)("span",{style:{color:"#7a6c5d",fontSize:15},children:e.vicinity}),e.rating&&(0,n.jsxs)("div",{style:{color:"#b35d6a",fontSize:15,marginTop:4},children:["Rating: ",e.rating," ‚≠ê"]}),e.user_ratings_total&&(0,n.jsxs)("div",{style:{color:"#bdb7a7",fontSize:13},children:["(",e.user_ratings_total," reviews)"]})]},e.place_id))})]})]})]}):(0,n.jsx)("div",{children:"Loading..."})}},7663:function(e){!function(){var t={229:function(e){var t,r,n,o=e.exports={};function i(){throw Error("setTimeout has not been defined")}function s(){throw Error("clearTimeout has not been defined")}function a(e){if(t===setTimeout)return setTimeout(e,0);if((t===i||!t)&&setTimeout)return t=setTimeout,setTimeout(e,0);try{return t(e,0)}catch(r){try{return t.call(null,e,0)}catch(r){return t.call(this,e,0)}}}!function(){try{t="function"==typeof setTimeout?setTimeout:i}catch(e){t=i}try{r="function"==typeof clearTimeout?clearTimeout:s}catch(e){r=s}}();var l=[],c=!1,u=-1;function d(){c&&n&&(c=!1,n.length?l=n.concat(l):u=-1,l.length&&f())}function f(){if(!c){var e=a(d);c=!0;for(var t=l.length;t;){for(n=l,l=[];++u<t;)n&&n[u].run();u=-1,t=l.length}n=null,c=!1,function(e){if(r===clearTimeout)return clearTimeout(e);if((r===s||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(e);try{r(e)}catch(t){try{return r.call(null,e)}catch(t){return r.call(this,e)}}}(e)}}function g(e,t){this.fun=e,this.array=t}function p(){}o.nextTick=function(e){var t=Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];l.push(new g(e,t)),1!==l.length||c||a(f)},g.prototype.run=function(){this.fun.apply(null,this.array)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={},o.on=p,o.addListener=p,o.once=p,o.off=p,o.removeListener=p,o.removeAllListeners=p,o.emit=p,o.prependListener=p,o.prependOnceListener=p,o.listeners=function(e){return[]},o.binding=function(e){throw Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(e){throw Error("process.chdir is not supported")},o.umask=function(){return 0}}},r={};function n(e){var o=r[e];if(void 0!==o)return o.exports;var i=r[e]={exports:{}},s=!0;try{t[e](i,i.exports,n),s=!1}finally{s&&delete r[e]}return i.exports}n.ab="//";var o=n(229);e.exports=o}()},1163:function(e,t,r){e.exports=r(3079)}},function(e){e.O(0,[255,888,774,179],function(){return e(e.s=4039)}),_N_E=e.O()}]);