(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[216],{4039:function(e,o,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/florist",function(){return r(4587)}])},4587:function(e,o,r){"use strict";r.r(o),r.d(o,{default:function(){return d}});var n=r(5893),t=r(7294),i=r(7054),a=r(1163);let s=["places"],l={lat:37.7749,lng:-122.4194};function d(){let e=(0,a.useRouter)(),{isLoaded:o,loadError:r}=(0,i.Db)({googleMapsApiKey:"AIzaSyBAtwcjLtI2sItLuJLdd1TX0VSyrux2ceU",libraries:s}),[d,c]=(0,t.useState)(l),[u,g]=(0,t.useState)([]),f=(0,t.useRef)(null),[p,h]=(0,t.useState)(null);return((0,t.useEffect)(()=>{navigator.geolocation&&navigator.geolocation.getCurrentPosition(e=>c({lat:e.coords.latitude,lng:e.coords.longitude}),()=>{})},[]),r)?(0,n.jsx)("div",{children:"Error loading maps"}):o?(0,n.jsxs)("div",{style:{width:"100vw",height:"100vh",minHeight:"100vh",minWidth:"100vw",background:"#f9f4ee",boxSizing:"border-box",margin:0,padding:0,overflow:"hidden"},children:[(0,n.jsxs)("nav",{style:{position:"fixed",top:0,left:0,width:"100vw",zIndex:20,display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"center",background:"#f9e3ea",boxShadow:"0 2px 8px rgba(179, 93, 106, 0.08)",padding:"0.7rem 2.5rem",gap:"2.5rem",borderBottom:"2px solid #bdb7a7",borderRadius:0},children:[(0,n.jsx)("a",{onClick:()=>e.push("/"),style:{color:"#b35d6a",fontFamily:"Georgia, serif",fontSize:"1rem",textDecoration:"none",cursor:"pointer",padding:"0.3rem 0.8rem",borderRadius:"18px",transition:"background 0.2s, color 0.2s",fontWeight:500},onMouseOver:e=>e.currentTarget.style.background="#f9f4ee",onMouseOut:e=>e.currentTarget.style.background="transparent",children:"Home"}),(0,n.jsx)("a",{onClick:()=>e.push("/preferences"),style:{color:"#b35d6a",fontFamily:"Georgia, serif",fontSize:"1rem",textDecoration:"none",cursor:"pointer",padding:"0.3rem 0.8rem",borderRadius:"18px",transition:"background 0.2s, color 0.2s",fontWeight:500},onMouseOver:e=>e.currentTarget.style.background="#f9f4ee",onMouseOut:e=>e.currentTarget.style.background="transparent",children:"Find Your Bouquet"}),(0,n.jsx)("a",{onClick:()=>e.push("/gallery"),style:{color:"#b35d6a",fontFamily:"Georgia, serif",fontSize:"1rem",textDecoration:"none",cursor:"pointer",padding:"0.3rem 0.8rem",borderRadius:"18px",transition:"background 0.2s, color 0.2s",fontWeight:500},onMouseOver:e=>e.currentTarget.style.background="#f9f4ee",onMouseOut:e=>e.currentTarget.style.background="transparent",children:"View Gallery"})]}),(0,n.jsxs)("div",{style:{display:"flex",flexDirection:"row",gap:32,padding:24,paddingTop:96,height:"calc(100vh - 96px)",boxSizing:"border-box",maxWidth:1200,margin:"0 auto"},children:[(0,n.jsxs)("div",{style:{flex:1,minWidth:0,display:"flex",flexDirection:"column",alignItems:"stretch"},children:[(0,n.jsx)("h1",{style:{marginTop:0},children:"Florists Near You"}),(0,n.jsx)("div",{style:{flex:1,maxHeight:"70vh"},children:(0,n.jsxs)(i.b6,{mapContainerStyle:{width:"100%",height:"70vh",minHeight:400,borderRadius:18},center:d,zoom:13,onLoad:e=>f.current=e,onIdle:()=>{if(!f.current||!window.google)return;let e=f.current.getBounds();e&&new window.google.maps.places.PlacesService(document.createElement("div")).nearbySearch({bounds:e,keyword:"florist"},(e,o)=>{o===window.google.maps.places.PlacesServiceStatus.OK?g(e):g([])})},children:[(0,n.jsx)(i.Jx,{position:d,label:"You"}),u.map(e=>(0,n.jsx)(i.Jx,{position:{lat:e.geometry.location.lat(),lng:e.geometry.location.lng()},label:e.name,onMouseOver:()=>h(e.place_id),onMouseOut:()=>h(null)},e.place_id))]})})]}),(0,n.jsxs)("div",{style:{flex:1,minWidth:0,overflowY:"auto",background:"#fff",borderRadius:18,boxShadow:"0 2px 12px rgba(0,0,0,0.04)",padding:24,marginTop:32,height:"fit-content",maxHeight:"70vh"},children:[(0,n.jsx)("h2",{style:{fontFamily:"Georgia, serif",color:"#b35d6a",fontWeight:500,fontSize:22,marginTop:0},children:"Nearby Florists"}),(0,n.jsx)("ul",{style:{listStyle:"none",padding:0,margin:0},children:0===u.length?(0,n.jsx)("li",{style:{color:"#bdb7a7",fontFamily:"Georgia, serif",fontSize:16},children:"No florists found nearby."}):u.map(e=>(0,n.jsxs)("li",{style:{marginBottom:20,paddingBottom:16,borderBottom:"1px solid #f0e6dd",background:p===e.place_id?"#f9e3ea":"transparent",borderRadius:p===e.place_id?10:0,transition:"background 0.2s"},children:[(0,n.jsx)("strong",{style:{fontSize:18},children:e.name}),(0,n.jsx)("br",{}),(0,n.jsx)("span",{style:{color:"#7a6c5d",fontSize:15},children:e.vicinity}),e.rating&&(0,n.jsxs)("div",{style:{color:"#b35d6a",fontSize:15,marginTop:4},children:["Rating: ",e.rating," ‚≠ê"]}),e.user_ratings_total&&(0,n.jsxs)("div",{style:{color:"#bdb7a7",fontSize:13},children:["(",e.user_ratings_total," reviews)"]})]},e.place_id))})]})]})]}):(0,n.jsx)("div",{children:"Loading..."})}},1163:function(e,o,r){e.exports=r(3079)}},function(e){e.O(0,[255,888,774,179],function(){return e(e.s=4039)}),_N_E=e.O()}]);